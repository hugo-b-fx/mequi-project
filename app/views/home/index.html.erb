<%= render "shared/public_navbar" %>

<div class="home-page">

  <!-- HERO -->
  <div class="home-hero">
    <div class="container py-5">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h1 class="hero-title">
            Progresser<br>
            gr√¢ce aux<br>
            meilleurs<br>
            coachs
          </h1>

          <%= link_to "Trouver votre coach", login_selector_path, class: "btn btn-brown btn-lg mt-4" %>
        </div>

        <div class="col-md-6 d-flex gap-3 justify-content-end hero-discipline-col">
          <div class="discipline-card">
            <img src="https://placehold.co/600x400?text=Dressage" class="discipline-img" alt="Dressage">
            <div class="discipline-label">Dressage</div>
          </div>

          <div class="discipline-card">
            <img src="https://placehold.co/600x400?text=CSO" class="discipline-img" alt="CSO">
            <div class="discipline-label">CSO</div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- SEARCH BAR -->
  <div class="search-wrapper container">
    <%= form_with url: search_path, method: :post, local: true, class: "search-bar d-flex align-items-center" do |f| %>

      <div class="search-field d-flex align-items-center flex-grow-1">
        <span class="search-icon">üîç</span>
        <%= f.text_field :discipline, placeholder: "Discipline (CSO, Dressage...)", class: "form-control border-0" %>
      </div>

      <div class="search-field d-flex align-items-center flex-grow-1">
        <span class="search-icon">üìç</span>
        <%= f.text_field :location, placeholder: "Localisation", class: "form-control border-0" %>
      </div>

      <%= f.submit "Rechercher", class: "btn btn-brown search-btn" %>

    <% end %>
  </div>

  <!-- STATS -->
  <div class="container text-center stats-section">
    <div class="row pt-5 pb-3">
      <div class="col-md-4">
        <h2 class="stat-number">120</h2>
        <p class="stat-label">Coachs certifi√©s</p>
      </div>

      <div class="col-md-4">
        <h2 class="stat-number">300</h2>
        <p class="stat-label">Avis r√©colt√©s</p>
      </div>

      <div class="col-md-4">
        <h2 class="stat-number">10</h2>
        <p class="stat-label">Disciplines</p>
      </div>
    </div>
  </div>

  <!-- D√âCOUVREZ NOS COACHS -->
  <section class="discover-coaches-section">
    <div class="container text-center py-5">
      <h2 class="section-title mb-4">D√©couvrez nos coachs</h2>

      <div class="discipline-pills d-flex flex-wrap justify-content-center gap-3">
        <button class="discipline-pill">Coach de dressage</button>
        <button class="discipline-pill">Coach de CCE</button>
        <button class="discipline-pill">Coach de CSO</button>
        <button class="discipline-pill">Coach d‚Äô√©thologie</button>
      </div>
    </div>
  </section>

  <!-- COACHING ADAPT√â -->
  <section class="coaching-banner">
    <div class="container text-center py-4">
      <h2 class="section-title mb-0">
        Coaching adapt√© = Performance durable
      </h2>
    </div>
  </section>

  <!-- COMMENT √áA MARCHE -->
  <section class="how-it-works-section">
    <div class="container text-center py-5">
      <h2 class="section-title">Comment √ßa marche ?</h2>
      <p class="section-subtitle">Trouvez votre coach en 3 √©tapes simples</p>

      <div class="row mt-4">
        <div class="col-md-4 mb-4">
          <div class="hiw-step">
            <div class="hiw-icon">üîç</div>
            <h3>1. Recherchez</h3>
            <p>Parcourez des centaines de profils de coachs qualifi√©s dans votre r√©gion.</p>
          </div>
        </div>

        <div class="col-md-4 mb-4">
          <div class="hiw-step">
            <div class="hiw-icon">üí¨</div>
            <h3>2. Contactez</h3>
            <p>√âchangez gratuitement avec les coachs pour trouver celui qui vous correspond.</p>
          </div>
        </div>

        <div class="col-md-4 mb-4">
          <div class="hiw-step">
            <div class="hiw-icon">üìÖ</div>
            <h3>3. R√©servez</h3>
            <p>Planifiez votre premier cours et commencez votre progression.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LES COACHS STARS -->
  <section class="top-coaches-section">
    <div class="container py-5">

      <div class="text-center mb-4">
        <h2 class="section-title">Les coachs stars qui nous ont fait confiance</h2>
        <p class="section-subtitle">Des professionnels reconnus qui transmettent leur passion.</p>
      </div>

      <div class="row g-4">
        <% @coaches.each do |coach| %>
          <div class="col-md-4">
            <div class="coach-card">

              <% if coach.user.photo.attached? %>
                <%= image_tag coach.user.photo, class: "coach-img", alt: coach.user.full_name %>
              <% else %>
                <img src="https://placehold.co/600x400?text=Coach" class="coach-img" alt="Coach">
              <% end %>

              <div class="coach-body">

                <div class="coach-header">
                  <h3 class="coach-name"><%= coach.user.full_name %></h3>
                  <div class="coach-rating">‚òÖ <%= coach.average_rating || 4.9 %></div>
                </div>

                <p class="coach-location"><%= coach.location %></p>

                <div class="coach-tags">
                  <% coach.specialities.split(",").first(3).each do |tag| %>
                    <span class="coach-tag"><%= tag.strip %></span>
                  <% end %>
                </div>

                <div class="coach-footer">
                  <div class="coach-price"><%= coach.price_per_session %>‚Ç¨/s√©ance</div>

                  <%= link_to "Voir profil", coach_path(coach), class: "btn btn-brown btn-sm" %>
                </div>
              </div>

            </div>
          </div>
        <% end %>
      </div>

    </div>
  </section>

  <!-- DEVENEZ COACH -->
  <section class="become-coach-section">
    <div class="container text-center py-5">

      <h2 class="section-title">Devenez coach M'equi</h2>

      <p class="section-subtitle">
        Transmettez votre savoir au-del√† de vos √©curies gr√¢ce √† l‚Äôaccompagnement hybride.
      </p>

      <div class="row mt-4">
        <div class="col-md-4 mb-3">
          <div class="become-item">
            <div class="become-icon">üë•</div>
            <p>D√©veloppez votre client√®le</p>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <div class="become-item">
            <div class="become-icon">üìà</div>
            <p>Augmentez votre visibilit√©</p>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <div class="become-item">
            <div class="become-icon">üóìÔ∏è</div>
            <p>G√©rez votre agenda facilement</p>
          </div>
        </div>
      </div>

      <p class="mt-3 mb-4">
        Rejoignez la plus grande communaut√© de cavaliers motiv√©s.
      </p>

      <a href="#" class="btn btn-brown">Devenir coach</a>

    </div>
  </section>

</div>
